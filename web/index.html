<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Vox populi</title>
    <style>
      body { margin: 0; }
      canvas { width: 100%; height: 100% }
    </style>
  </head>
  <body>
    <script src="//rawgit.com/mrdoob/stats.js/master/build/stats.min.js"></script>
    <script src="//rawgit.com/mrdoob/three.js/master/build/three.min.js"></script>
    <script src="js/debug.js"></script>
    <script src="js/world.js"></script>
    <script src="js/input.js"></script>
    <script src="js/viewer.js"></script>
    <script src="js/ico.js"></script>
    <script>
      var coord_div = document.getElementById( 'coord' )
      var scene = new THREE.Scene();

      var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
      var clock = new THREE.Clock()

      var renderer = new THREE.WebGLRenderer();
      renderer.setPixelRatio( window.devicePixelRatio );
      renderer.setSize( window.innerWidth, window.innerHeight );

      document.body.appendChild( renderer.domElement );

      var geometry = new THREE.BufferGeometry();
      geometry.setIndex( new THREE.BufferAttribute( hexsphere_indicies, 1 ) );
      geometry.addAttribute( 'position', new THREE.BufferAttribute( hexsphere_position, 3 ) );
      var material = new THREE.MeshBasicMaterial( { color: 0x0000ff } );
      var ico = new THREE.LineSegments( new THREE.WireframeGeometry( geometry ) );
      scene.add( ico );

      camera.position.z = 1.8;
      DEBUG.init( scene );
      VIEWER.init( camera, renderer, ico.position, scene );

      function render() {
        dt = clock.getDelta();
        requestAnimationFrame( render );
        VIEWER.update( dt );
        renderer.render( scene, camera );
      }
      render();
    </script>
  </body>
</html>
